#include <sys/mman.h>
#include <string.h>
#include <stdio.h>

unsigned char code[] = {
  0x48,0x31,0xc0,0x48,0xff,0xc0,0x48,0x31,0xff,0x48,0xff,0xc7,0x68,0x72,0x6c,0x64,0x0a,0x48,0xbb,0x68,0x65,0x6c,0x6c,0x6f,0x20,0x77,0x6f,0x53,0x48,0x89,0xe6,0x48,0x31,0xd2,0xb2,0x0c,0x0f,0x05,0x48,0x31,0xc0,0xb0,0x3c,0x48,0x31,0xff,0x0f,0x05,0xc3
};

int main(void) {
    void *mem = mmap(NULL, sizeof(code),
                     PROT_READ|PROT_WRITE|PROT_EXEC,
                     MAP_PRIVATE|MAP_ANONYMOUS, -1, 0);
    memcpy(mem, code, sizeof(code));
    ((void(*)())mem)();
    return 0;
}

